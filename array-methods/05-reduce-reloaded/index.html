<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reduce Reloaded</title>
</head>
<body>
    

    <script>


        //caso de platzi
        //Se desea que reduce devuelva un conteo de cuantas veces se repite cada elemento del array numbers

        const items = [1, 3, 2, 3, 4, 2, 5, 1, 3, 4, 2];

        const rta = items.reduce((obj, item) => {
            if(!obj[item]) {
                obj[item] = 1;
            } else {
                obj[item] += 1;
            }
            return obj;
        }, {});


        //Otro ejemplo del mismo algoritmo

        const data=[
            {
                name:"Nicolas",
                level:"low",
            },
            {
                name:"Andrea",
                level:"medium",
            },
            {
                name:"Zulema",
                level:"hight",
            },
            {
                name:"Santiago",
                level:"low",
            },
            {
                name:"Valentina",
                level:"medium",
            },
            {
                name:"Lucia",
                level:"hight",
            },
        ];
        //se desea saber cuantos jugadores estan en cada nivel de juego ('low', 'medium', 'high')

        const rta2 = data.reduce((obj, item) => {
            if(!obj[item.level]) {
                obj[item.level] = 1;
            } else {
                obj[item.level] += 1;
            }
            return obj;
        }, {});

        console.log('rta2', rta2);

        // otra forma de hacer el ejercicio utilizando tambien map

        const rta3 = data
        .map(item => item.level)
        .reduce((obj, item) => {
            if(!obj[item]){
                obj[item] = 1;
            } else {
                obj[item] += 1;
            }
            return obj;
        }, {});

        console.log('rta3', rta3);

        //utilizando los metodos, se requiere un conteo de valores por rango

        const numbers = [1,2,3,4,5,6,7,8,9,8,2,3,5,6,8,2,3,5,7,6,9,10,10,12,14,15,13,12,14];

        const ranges = numbers.reduce((obj, item) => {
            const range = 5;

            if(item <= range * 1) {
                obj[`0 - ${range}`] += 1;
            } else if(item <= range * 2) {
                obj[`${range + 1} - ${range * 2}`] += 1;
            } else {
                obj['11 - 15'] += 1;
            }
            return obj;
        }, {
            '0 - 5': 0,
            '6 - 10': 0,
            '11 - 15': 0,
        });
        console.log(ranges);

    </script>
</body>
</html>